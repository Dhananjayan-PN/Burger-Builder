{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/djay/Developer/GitHub/Burger-Builder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"./Login.css\";import{TextField,Button,Dialog,DialogTitle,DialogContent,DialogContentText,DialogActions}from\"@material-ui/core\";import CircularProgress from\"@material-ui/core/CircularProgress\";import Cookies from\"js-cookie\";var Login=function Login(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),failure=_useState4[0],setFailure=_useState4[1];var _useState5=useState(\"Somthing went wrong! Try again later\"),_useState6=_slicedToArray(_useState5,2),errorMessage=_useState6[0],setErrorMessage=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];var logInEndpoint=\"accounts:signInWithPassword?key=AIzaSyDj7fGfYjQQDBvZkybj2h2MDY4AMP5BBlI\";var handleClose=function handleClose(){setLoading(false);setFailure(false);setErrorMessage(\"Somthing went wrong! Try again later\");};var LoginRequest=function LoginRequest(){setLoading(true);fetch(\"https://identitytoolkit.googleapis.com/v1/\"+logInEndpoint,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password,returnSecureToken:true})}).then(function(response){return response.json();}).then(function(data){console.log(data);if(data.error!==undefined){if(data.error.message===\"EMAIL_NOT_FOUND\"){setErrorMessage(\"The provided email is not registered! Sign up or use a registered email.\");}if(data.error.message===\"INVALID_PASSWORD\"){setErrorMessage(\"The provided password is incorrect! Enter the right password for this email.\");}if(data.error.message===\"INVALID_EMAIL\"){setErrorMessage(\"The provided email is invalid! Enter a valid email to log in.\");}setLoading(false);setEmail(\"\");setPassword(\"\");setFailure(true);}else{setLoading(false);setEmail(\"\");setPassword(\"\");Cookies.set(\"user\",data);props.history.push(\"/\");document.location.reload();}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"Login\",children:[/*#__PURE__*/_jsx(\"h2\",{id:\"chk-heading\",children:\"Log In\"}),/*#__PURE__*/_jsx(TextField,{id:\"email\",fullWidth:true,onChange:function onChange(e){setEmail(e.target.value);},value:email,color:\"secondary\",required:true,style:{width:\"75%\",display:\"block\",marginTop:35,marginRight:\"auto\",marginLeft:\"auto\"},label:\"Email\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,value:password,type:\"password\",onChange:function onChange(e){setPassword(e.target.value);},color:\"secondary\",required:true,style:{width:\"75%\",display:\"block\",marginTop:25,marginRight:\"auto\",marginLeft:\"auto\"},label:\"Password\"}),/*#__PURE__*/_jsx(Button,{onClick:LoginRequest,style:{marginTop:50,marginRight:\"auto\",marginLeft:\"auto\",display:\"block\"},id:\"checkout-button\",variant:\"outlined\",color:\"secondary\",children:\"Log IN\"}),/*#__PURE__*/_jsx(Dialog,{open:loading,children:/*#__PURE__*/_jsx(CircularProgress,{style:{padding:\"50px\"},color:\"secondary\"})}),/*#__PURE__*/_jsxs(Dialog,{open:failure,onClose:handleClose,children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"responsive-dialog-title\",children:\"Error\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{children:errorMessage})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{autoFocus:true,onClick:function onClick(){handleClose();},color:\"secondary\",children:\"Ok\"})})]})]});};export default Login;","map":{"version":3,"sources":["/Users/djay/Developer/GitHub/Burger-Builder/src/components/Login/Login.js"],"names":["React","useState","TextField","Button","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","CircularProgress","Cookies","Login","props","loading","setLoading","failure","setFailure","errorMessage","setErrorMessage","email","setEmail","password","setPassword","logInEndpoint","handleClose","LoginRequest","fetch","method","headers","body","JSON","stringify","returnSecureToken","then","response","json","data","console","log","error","undefined","message","set","history","push","document","location","reload","e","target","value","width","display","marginTop","marginRight","marginLeft","padding"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./Login.css\";\nimport { TextField, Button, Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions } from \"@material-ui/core\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Cookies from \"js-cookie\";\n\nconst Login = (props) => {\n  const [loading, setLoading] = useState(false);\n  const [failure, setFailure] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"Somthing went wrong! Try again later\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const logInEndpoint = \"accounts:signInWithPassword?key=AIzaSyDj7fGfYjQQDBvZkybj2h2MDY4AMP5BBlI\";\n\n  const handleClose = () => {\n    setLoading(false);\n    setFailure(false);\n    setErrorMessage(\"Somthing went wrong! Try again later\");\n  };\n\n  const LoginRequest = () => {\n    setLoading(true);\n    fetch(\"https://identitytoolkit.googleapis.com/v1/\" + logInEndpoint, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: email,\n        password: password,\n        returnSecureToken: true\n      })\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n        if (data.error !== undefined) {\n          if (data.error.message === \"EMAIL_NOT_FOUND\") {\n            setErrorMessage(\"The provided email is not registered! Sign up or use a registered email.\");\n          }\n          if (data.error.message === \"INVALID_PASSWORD\") {\n            setErrorMessage(\"The provided password is incorrect! Enter the right password for this email.\");\n          }\n          if (data.error.message === \"INVALID_EMAIL\") {\n            setErrorMessage(\"The provided email is invalid! Enter a valid email to log in.\");\n          }\n          setLoading(false);\n          setEmail(\"\");\n          setPassword(\"\");\n          setFailure(true);\n        } else {\n          setLoading(false);\n          setEmail(\"\");\n          setPassword(\"\");\n          Cookies.set(\"user\", data);\n          props.history.push(\"/\");\n          document.location.reload();\n        }\n      });\n  };\n\n  return (\n    <div className=\"Login\">\n      <h2 id=\"chk-heading\">Log In</h2>\n      <TextField\n        id=\"email\"\n        fullWidth\n        onChange={(e) => {\n          setEmail(e.target.value);\n        }}\n        value={email}\n        color=\"secondary\"\n        required\n        style={{ width: \"75%\", display: \"block\", marginTop: 35, marginRight: \"auto\", marginLeft: \"auto\" }}\n        label=\"Email\"\n      />\n      <TextField\n        fullWidth\n        value={password}\n        type=\"password\"\n        onChange={(e) => {\n          setPassword(e.target.value);\n        }}\n        color=\"secondary\"\n        required\n        style={{ width: \"75%\", display: \"block\", marginTop: 25, marginRight: \"auto\", marginLeft: \"auto\" }}\n        label=\"Password\"\n      />\n      <Button\n        onClick={LoginRequest}\n        style={{ marginTop: 50, marginRight: \"auto\", marginLeft: \"auto\", display: \"block\" }}\n        id=\"checkout-button\"\n        variant=\"outlined\"\n        color=\"secondary\"\n      >\n        Log IN\n      </Button>\n      <Dialog open={loading}>\n        <CircularProgress style={{ padding: \"50px\" }} color=\"secondary\" />\n      </Dialog>\n      <Dialog open={failure} onClose={handleClose}>\n        <DialogTitle id=\"responsive-dialog-title\">Error</DialogTitle>\n        <DialogContent>\n          <DialogContentText>{errorMessage}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            autoFocus\n            onClick={() => {\n              handleClose();\n            }}\n            color=\"secondary\"\n          >\n            Ok\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}