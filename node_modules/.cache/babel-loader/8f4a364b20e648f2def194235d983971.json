{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import _objectSpread from\"/Users/djay/Developer/GitHub/Burger-Builder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/djay/Developer/GitHub/Burger-Builder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Order from\"../../components/Order/Order\";import axios from\"../../axios-orders\";import{Dialog}from\"@material-ui/core\";import CircularProgress from\"@material-ui/core/CircularProgress\";import\"./Orders.css\";import Cookies from\"js-cookie\";import{Redirect}from\"react-router\";var Orders=function Orders(props){var user=Cookies.getJSON(\"user\");var _useState=useState(null),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){setLoading(true);axios.get(\"/orders.json\").then(function(response){if(response.status===200){setOrders(response.data);}});setLoading(false);},[]);var renderOrders=function renderOrders(){var ordersComponents=Object.keys(orders).map(function(key){return orders[key].customer.email===user.email?/*#__PURE__*/_jsx(Order,_objectSpread({},orders[key]),key):null;});if(ordersComponents.every(function(e){return e===null;})){return/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\",fontSize:28,fontWeight:300},children:\"No Orders\"});}else{return ordersComponents;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"Orders\",children:[user===null||user===undefined?/*#__PURE__*/_jsx(Redirect,{to:\"/login\"}):null,orders===null?/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\",fontSize:28,fontWeight:300},children:\"No Orders\"}):renderOrders(),/*#__PURE__*/_jsx(Dialog,{open:loading,children:/*#__PURE__*/_jsx(CircularProgress,{style:{padding:\"50px\"},color:\"secondary\"})})]});};export default Orders;","map":{"version":3,"sources":["/Users/djay/Developer/GitHub/Burger-Builder/src/containers/Orders/Orders.js"],"names":["React","useState","useEffect","Order","axios","Dialog","CircularProgress","Cookies","Redirect","Orders","props","user","getJSON","orders","setOrders","loading","setLoading","get","then","response","status","data","renderOrders","ordersComponents","Object","keys","map","key","customer","email","every","e","textAlign","fontSize","fontWeight","undefined","padding"],"mappings":"2ZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,8BAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,OAASC,MAAT,KAAuB,mBAAvB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oCAA7B,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,QAAT,KAAyB,cAAzB,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,CACxB,GAAMC,CAAAA,IAAI,CAAGJ,OAAO,CAACK,OAAR,CAAgB,MAAhB,CAAb,CADwB,cAEIX,QAAQ,CAAC,IAAD,CAFZ,wCAEjBY,MAFiB,eAETC,SAFS,8BAGMb,QAAQ,CAAC,KAAD,CAHd,yCAGjBc,OAHiB,eAGRC,UAHQ,eAKxBd,SAAS,CAAC,UAAM,CACdc,UAAU,CAAC,IAAD,CAAV,CACAZ,KAAK,CAACa,GAAN,CAAU,cAAV,EAA0BC,IAA1B,CAA+B,SAACC,QAAD,CAAc,CAC3C,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CAC3BN,SAAS,CAACK,QAAQ,CAACE,IAAV,CAAT,CACD,CACF,CAJD,EAKAL,UAAU,CAAC,KAAD,CAAV,CACD,CARQ,CAQN,EARM,CAAT,CAUA,GAAMM,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAMC,CAAAA,gBAAgB,CAAGC,MAAM,CAACC,IAAP,CAAYZ,MAAZ,EAAoBa,GAApB,CAAwB,SAACC,GAAD,QAC/Cd,CAAAA,MAAM,CAACc,GAAD,CAAN,CAAYC,QAAZ,CAAqBC,KAArB,GAA+BlB,IAAI,CAACkB,KAApC,cAA4C,KAAC,KAAD,kBAAqBhB,MAAM,CAACc,GAAD,CAA3B,EAAYA,GAAZ,CAA5C,CAAmF,IADpC,EAAxB,CAAzB,CAGA,GAAIJ,gBAAgB,CAACO,KAAjB,CAAuB,SAACC,CAAD,QAAOA,CAAAA,CAAC,GAAK,IAAb,EAAvB,CAAJ,CAA+C,CAC7C,mBAAO,WAAI,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAb,CAAuBC,QAAQ,CAAE,EAAjC,CAAqCC,UAAU,CAAE,GAAjD,CAAX,uBAAP,CACD,CAFD,IAEO,CACL,MAAOX,CAAAA,gBAAP,CACD,CACF,CATD,CAWA,mBACE,aAAK,SAAS,CAAC,QAAf,WACGZ,IAAI,GAAK,IAAT,EAAiBA,IAAI,GAAKwB,SAA1B,cAAsC,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAtC,CAAiE,IADpE,CAEGtB,MAAM,GAAK,IAAX,cAAkB,WAAI,KAAK,CAAE,CAAEmB,SAAS,CAAE,QAAb,CAAuBC,QAAQ,CAAE,EAAjC,CAAqCC,UAAU,CAAE,GAAjD,CAAX,uBAAlB,CAAsGZ,YAAY,EAFrH,cAGE,KAAC,MAAD,EAAQ,IAAI,CAAEP,OAAd,uBACE,KAAC,gBAAD,EAAkB,KAAK,CAAE,CAAEqB,OAAO,CAAE,MAAX,CAAzB,CAA8C,KAAK,CAAC,WAApD,EADF,EAHF,GADF,CASD,CAnCD,CAqCA,cAAe3B,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Order from \"../../components/Order/Order\";\nimport axios from \"../../axios-orders\";\nimport { Dialog } from \"@material-ui/core\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport \"./Orders.css\";\nimport Cookies from \"js-cookie\";\nimport { Redirect } from \"react-router\";\n\nconst Orders = (props) => {\n  const user = Cookies.getJSON(\"user\");\n  const [orders, setOrders] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    axios.get(\"/orders.json\").then((response) => {\n      if (response.status === 200) {\n        setOrders(response.data);\n      }\n    });\n    setLoading(false);\n  }, []);\n\n  const renderOrders = () => {\n    const ordersComponents = Object.keys(orders).map((key) =>\n      orders[key].customer.email === user.email ? <Order key={key} {...orders[key]} /> : null\n    );\n    if (ordersComponents.every((e) => e === null)) {\n      return <h2 style={{ textAlign: \"center\", fontSize: 28, fontWeight: 300 }}>No Orders</h2>;\n    } else {\n      return ordersComponents;\n    }\n  };\n\n  return (\n    <div className=\"Orders\">\n      {user === null || user === undefined ? <Redirect to=\"/login\" /> : null}\n      {orders === null ? <h2 style={{ textAlign: \"center\", fontSize: 28, fontWeight: 300 }}>No Orders</h2> : renderOrders()}\n      <Dialog open={loading}>\n        <CircularProgress style={{ padding: \"50px\" }} color=\"secondary\" />\n      </Dialog>\n    </div>\n  );\n};\n\nexport default Orders;\n"]},"metadata":{},"sourceType":"module"}